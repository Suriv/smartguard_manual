(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9eebefec"],{"0a73":function(e,t,o){"use strict";o("e7e1")},a5ce:function(e,t,o){"use strict";o.r(t);var a=o("2e9e"),c=(o("ec5d"),o("6ca2")),r=(o("68ef"),o("cb51"),o("3743"),o("e3b3"),o("bc1b"),o("f628"),o("badc")),n=(o("75e6"),o("aee2")),l=(o("2bb4"),o("b730")),i=(o("1fac"),o("23f9")),d=o("7a23"),u=o("fa7c"),b=o("e5f6"),O=o("5aa0"),s=o("c777");const j=Object(u["a"])({},s["b"],{modelValue:Object(b["a"])(),filter:Function,formatter:{type:Function,default:(e,t)=>t}}),m=Object.keys(s["b"]);function h(e,t){if(e<0)return[];const o=Array(e);let a=-1;while(++a<e)o[a]=t(a);return o}const y=(e,t,o,a,c,r)=>{const n=h(t-e+1,t=>{const c=Object(O["i"])(e+t);return a(o,{text:c,value:c})});return c?c(o,n,r):n},v=(e,t)=>e.map((e,o)=>{const a=t[o];if(a.length){const t=+a[0].value,o=+a[a.length-1].value;return Object(O["i"])(Object(O["d"])(+e,t,o))}return e});var V=o("1fba"),x=o("dda5");const[p]=Object(V["a"])("time-picker"),S=e=>/^([01]\d|2[0-3]):([0-5]\d):([0-5]\d)$/.test(e),w=["hour","minute","second"],g=Object(u["a"])({},j,{minHour:Object(b["c"])(0),maxHour:Object(b["c"])(23),minMinute:Object(b["c"])(0),maxMinute:Object(b["c"])(59),minSecond:Object(b["c"])(0),maxSecond:Object(b["c"])(59),minTime:{type:String,validator:S},maxTime:{type:String,validator:S},columnsType:{type:Array,default:()=>["hour","minute"]},filter:Function});var f=Object(d["defineComponent"])({name:p,props:g,emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:o}){const a=Object(d["ref"])(e.modelValue),c=t=>{const o=t.split(":");return w.map((t,a)=>e.columnsType.includes(t)?o[a]:"00")},r=Object(d["computed"])(()=>{let{minHour:t,maxHour:o,minMinute:r,maxMinute:n,minSecond:l,maxSecond:i}=e;if(e.minTime||e.maxTime){const d={hour:0,minute:0,second:0};e.columnsType.forEach((e,t)=>{var o;d[e]=null!=(o=a.value[t])?o:0});const{hour:u,minute:b}=d;if(e.minTime){const[o,a,n]=c(e.minTime);t=o,r=+u<=+t?a:"00",l=+u<=+t&&+b<=+r?n:"00"}if(e.maxTime){const[t,a,r]=c(e.maxTime);o=t,n=+u>=+o?a:"59",i=+u>=+o&&+b>=+n?r:"59"}}return e.columnsType.map(c=>{const{filter:d,formatter:u}=e;switch(c){case"hour":return y(+t,+o,c,u,d,a.value);case"minute":return y(+r,+n,c,u,d,a.value);case"second":return y(+l,+i,c,u,d,a.value);default:return[]}})});Object(d["watch"])(a,o=>{Object(u["j"])(o,e.modelValue)||t("update:modelValue",o)}),Object(d["watch"])(()=>e.modelValue,e=>{e=v(e,r.value),Object(u["j"])(e,a.value)||(a.value=e)},{immediate:!0});const n=(...e)=>t("change",...e),l=(...e)=>t("cancel",...e),i=(...e)=>t("confirm",...e);return()=>Object(d["createVNode"])(x["a"],Object(d["mergeProps"])({modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,columns:r.value,onChange:n,onCancel:l,onConfirm:i},Object(u["l"])(e,m)),o)}});const C=Object(i["a"])(f);o("ae9e"),o("8270"),o("786d"),o("b807"),o("f319"),o("a526"),o("5f94"),o("fc63");var R=o("9a1c"),N=(o("89a0"),o("5f24")),k=(o("ac6b"),o("f23a")),T=(o("21a7"),o("a136")),_=(o("4d86"),o("6c44")),W=(o("aa5a"),o("e31f")),A=(o("72ff"),o("2e1b")),U=(o("22fa"),o("14d9"),o("9690")),B=o("2849"),M=o("6c43"),I=(o("0b59"),o("7d74"));const F=Object(d["createElementVNode"])("p",{style:{display:"block",float:"left",margin:"0"}},"如果熄火监控时后视镜折叠，请折叠后视镜后再获取照片",-1),Y={style:{width:"100%",position:"relative"}};var D={__name:"SentryRecoderSettingsView",setup(e){const t=[{text:"5秒",value:5},{text:"10秒",value:10},{text:"20秒",value:20},{text:"30秒",value:30},{text:"1分钟",value:60},{text:"2分钟",value:120},{text:"3分钟",value:180}],o=[{text:"5秒",value:5},{text:"10秒",value:10},{text:"20秒",value:20},{text:"30秒",value:30}],i=Object(d["ref"])("#ff0000"),u=Object(d["ref"])(""),b=e=>{u.value=e.image};function O(){Object(B["a"])({title:"提示",confirmButtonColor:"var(--van-primary-color)",width:"320px",className:"myConfirmDialog",message:"如果您熄火后，后视镜折叠，建议您现在折叠后视镜后再获取照片！"}).then(()=>{try{window.androidFunction.shotAPicture(),setTimeout(()=>{E.value=!1,v()},5e3)}catch(e){}}).catch(()=>{})}function s(){try{let e=document.getElementsByTagName("canvas");e&&e.length>0&&(e=e[0],window.androidFunction.saveMASK(e.toDataURL("image/png")))}catch(e){}}function j(){try{var e=window.androidFunction.getCarPicture();G.value=e}catch(t){}}function m(){try{var e=window.androidFunction.getCarMaskPicture();Q.value=e}catch(t){}}function h(){"#ff0000"==i.value?i.value="#000000":i.value="#ff0000"}function y(){let e=document.getElementsByTagName("canvas");if(e&&e.length>0){e=e[0];let t=document.getElementById("sentryBg");e.height=t.offsetHeight,e.width=t.offsetWidth,e.getContext("2d").clearRect(0,0,e.width,e.height),e.getContext("2d").fillStyle="#000000",e.getContext("2d").fillRect(0,0,e.width,e.height)}}function v(){E.value=!0,G.value="",setTimeout(()=>{j()},100),m(),setTimeout(()=>{let e=document.getElementsByTagName("canvas");if(e&&e.length>0)if(e=e[0],console.log(e),Q.value&&""!=Q.value){let t=new Image;t.src=Q.value,t.onload=function(){console.log("onload!"),e.height=t.height,e.width=t.width,e.getContext("2d").drawImage(t,0,0)}}else{let t=document.getElementById("sentryBg");e.height=t.offsetHeight,e.width=t.offsetWidth,e.getContext("2d").fillStyle="#000000",e.getContext("2d").fillRect(0,0,e.width,e.height)}},500)}const V=()=>{console.log("dddd"),Object(M["b"])("clear")},p=Object(d["ref"])(!1),S=Object(d["ref"])(!1),w=({selectedOptions:e})=>{S.value=!1,Se.value.SentryRecoderTime=e[0].value,be("SentryRecoderTime",Se.value.SentryRecoderTime,1)},g=({selectedOptions:e})=>{p.value=!1,Se.value.SentryYLRecoderTime=e[0].value,be("SentryYLRecoderTime",Se.value.SentryYLRecoderTime,10)};const f=[{text:"2560x1440/2560x1920",value:1},{text:"1920x1080/1920x1440",value:4},{text:"1280x720/1280x960（海豚最大分辨率）",value:2},{text:"960x540/960x720",value:5},{text:"640x360/640x480",value:3}],D=Object(d["ref"])(!1),P=({selectedOptions:e})=>{D.value=!1,Se.value.SentryRecoderResolution=e[0].value,Oe(Se.value.SentryRecoderResolution)};function Z(e,t){if(e){let o=e.find(e=>e.value==t);if(o)return o.text}}const E=Object(d["ref"])(!1),z=Object(d["ref"])(!1),J=Object(d["ref"])(!1);function L(){try{window.androidFunction.setStringSetting("SentryRecoderPathTF",Se.value.SentryRecoderPathTF,"/storage/sdcard/360Videos/AccOn")}catch(e){}}function H(){try{window.androidFunction.setStringSetting("SentryRecoderPathSD",Se.value.SentryRecoderPathSD,"/sdcard/360Videos/AccOn")}catch(e){}}const K=[{text:"25帧",value:25},{text:"20帧",value:20},{text:"15帧",value:15},{text:"10帧",value:10}],$=Object(d["ref"])(!1),q=({selectedOptions:e})=>{$.value=!1,Se.value.SentryRecoderFPS=e[0].value,be("SentryRecoderFPS",Se.value.SentryRecoderFPS)},G=Object(d["ref"])("/storage/emulated/0/Android/data/cc.omycar.magicsentry2/files/carbj.jpeg"),Q=Object(d["ref"])(""),X=Object(d["ref"])(null),ee=[{text:"10M",value:108e5},{text:"8M",value:864e4},{text:"6M",value:648e4},{text:"4M",value:432e4},{text:"2M",value:216e4},{text:"1M",value:108e4}],te=[{text:"任一触发即录制",value:0},{text:"同时触发才录制",value:1}],oe=Object(d["ref"])(!1),ae=Object(d["ref"])(!1),ce=Object(d["ref"])(!1),re=({selectedOptions:e})=>{oe.value=!1,Se.value.SentryRecoderBitrate=e[0].value,be("SentryRecoderBitrate",Se.value.SentryRecoderBitrate)},ne=({selectedOptions:e})=>{we.value=!1,Se.value.SentryRecoderAudioMode=e[0].value,be("SentryRecoderAudioMode",Se.value.SentryRecoderAudioMode)},le=[{text:"4次/秒",value:4},{text:"2次/秒",value:2},{text:"1次/秒",value:1}],ie=Object(d["ref"])(!1),de=({selectedOptions:e})=>{ie.value=!1,Se.value.SentryRecoderFre=e[0].value,be("SentryRecoderFre",Se.value.SentryRecoderFre)};Object(d["ref"])(!1),Object(d["ref"])(!1);function ue(e,t){try{window.androidFunction.setBoolSetting(e,t,!1)}catch(o){}}function be(e,t,o){console.log("set "+e+" to "+t);try{window.androidFunction.setIntSetting(e,parseInt(t),o)}catch(a){}}function Oe(e){try{window.androidFunction.setSentryRecoderResolution(e)}catch(t){}}function se(){try{window.androidFunction.startSentryDebug()}catch(e){}}function je(){try{window.androidFunction.stopSentryDebug()}catch(e){}}function me(){ue("SentryRecoderUseROI",Se.value.SentryRecoderUseROI),Se.value.SentryRecoderUseROI&&Object(B["b"])({title:"温馨提示",confirmButtonColor:"var(--van-primary-color)",width:"320px",className:"myConfirmDialog",message:"请点击编辑区域按钮，拍照后通过触摸涂抹设置侦测区域，否则会造成熄火无法录制到视频！"}).then(()=>{}).catch(()=>{})}function he(){ue("SentryRecoderTryAudio",Se.value.SentryRecoderTryAudio),Se.value.SentryRecoderTryAudio&&Object(B["b"])({title:"重要提示，请仔细阅读！！",confirmButtonColor:"var(--van-primary-color)",width:"320px",className:"myConfirmDialog",message:"熄火下不推荐打开音频录制，打开语音录制可能会导致录制错误，视频损坏、进度条异常、微信提醒但无录制文件等问题，如果出现异常情况，请尝试关闭录制音频选项。"}).then(()=>{Object(B["b"])({title:"再次提醒，请仔细阅读！！",confirmButtonColor:"var(--van-primary-color)",width:"320px",className:"myConfirmDialog",message:"！！！！！！！！！！熄火下不推荐打开音频录制，请关闭它，否则会出现诸多问题，除非你知道你的车可以熄火使用录音！！！！！！！！！！"}).then(()=>{}).catch(()=>{})}).catch(()=>{})}function ye(){Se.value.sentryWithDVR&&Se.value.sentryWithInCar&&Object(M["b"])({message:"车内镜头和记录仪镜头同时开启容易出错。不建议同时开启。",position:"bottom",duration:2e3})}function ve(){Se.value.SentryRecoderTimes.push(JSON.parse(JSON.stringify(pe.value))),Ce.value=!1,Ve()}function Ve(){try{let e=window.androidFunction.setSentryRecoderTimesSetting(JSON.stringify(Se.value.SentryRecoderTimes));e&&(Se.value.SentryRecoderTimes=JSON.parse(e))}catch(e){}}function xe(){pe.value={start:["00","00"],end:["08","00"],enable:!0},Re.value=!0}const pe=Object(d["ref"])({start:["00","00"],end:["08","00"],enable:!0}),Se=Object(d["ref"])({sentryWithDVR:!1,sentryWithInCar:!1,SentryRecoderResolution:1,SentryRecoderTime:1,SentryYLRecoderTime:10,SentryRecoderFPS:25,SentryRecoderBitrate:864e4,SentryRecoderPathSD:"/sdcard/360Videos/AccOn",SentryRecoderPathTF:"/storage/sdcard/360Videos/AccOn",SentryRecoderTryTF:!0,SentryRecoderTimeWaterMark:!1,SentryRecoderViewWaterMark:!1,SentryRecoderCarInfoWaterMark:!1,SentryRecoderTryAudio:!1,SentryRecoderAudioMode1Time:2,SentryRecoderMode:2,SentryRecoderFre:4,SentryRecoderLevel:10,SentryRecoderYuZhi:100,SentryRecoderWithFenMian:!1,SentryRecoderBrightness:33,SentryRecoderBrightnessEnable:!1,SentryRecoderWithAI:!0,SentryRecoderAIRecodYuzhi:10,SentryRecoderAIYuzhi:0,SentryRecoderWithOld:!1,SentryRecoderWithTime:!1,SentryRecoderTimeYuZhi:1,SentryRecoderUseROI:!1,SentryRecoderTimes:[{start:["18","00"],end:["00","00"],enable:!0},{start:["08","00"],end:["12","00"],enable:!1}],SentryRecoderWithAudio:!1,SentryRecoderAudioYuZhi:30,SentryRecoderAudioMode:0,SentryRecoderCarInfoWaterMarkString:"[]"}),we=Object(d["ref"])(!1),ge=Object(d["ref"])(!1),fe=Object(d["ref"])(!1),Ce=Object(d["ref"])(!1),Re=Object(d["ref"])(!1);function Ne(e){Object(B["a"])({title:"删除确认",message:"确定删除此时间段吗？"}).then(()=>{Se.value.SentryRecoderTimes.splice(Se.value.SentryRecoderTimes.indexOf(e),1),Ve()}).catch(()=>{})}Object(d["ref"])(!1);const ke=Object(d["ref"])([]);function Te(){let e=ke.value.filter(e=>e.select);console.log(e),Se.value.SentryRecoderCarInfoWaterMarkString=JSON.stringify(e);try{window.androidFunction.setStringSetting("SentryRecoderCarInfoWaterMarkString",Se.value.SentryRecoderCarInfoWaterMarkString,"/TF/360Videos/AccOn")}catch(t){}}function _e(){let e=Object(U["c"])();try{let e=window.androidFunction.getSentryRecoderSettings();Se.value=JSON.parse(e),Se.value.SentryRecoderTimes=JSON.parse(Se.value.SentryRecoderTimes),ke.value=JSON.parse(Se.value.SentryRecoderCarInfoWaterMarkString)}catch(t){}ke.value=ke.value.concat(e.filter(e=>-1===ke.value.findIndex(t=>t.name===e.name)))}return Object(d["onMounted"])(()=>{_e()}),(e,u)=>{const j=A["a"],m=W["a"],U=_["a"],B=T["a"],Q=k["a"],Oe=N["a"],_e=R["a"],We=x["a"],Ae=C,Ue=l["a"],Be=n["a"],Me=r["a"],Ie=c["a"],Fe=a["a"];return Object(d["openBlock"])(),Object(d["createElementBlock"])("main",null,[Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(U,{center:"",label:"【非会员同样支持AI侦测，但不标注结果】默认是全镜头范围内侦测，为了降低误报，【强烈建议】设置区域，将需要【监控的区域】涂抹为【红色】！移动车辆后无需重新绘制。","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 划定侦测区域 ")]),"right-icon":Object(d["withCtx"])(()=>[Se.value.SentryRecoderUseROI?(Object(d["openBlock"])(),Object(d["createBlock"])(j,{key:0,style:{padding:"10px 10px","margin-right":"20px"},round:"",icon:"edit",type:"primary",size:"small",onClick:v},{default:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])("查看/编辑区域")]),_:1})):Object(d["createCommentVNode"])("",!0),Object(d["createVNode"])(m,{modelValue:Se.value.SentryRecoderUseROI,"onUpdate:modelValue":u[0]||(u[0]=e=>Se.value.SentryRecoderUseROI=e),onClick:me},null,8,["modelValue"])]),_:1})]),_:1}),Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Se.value.SentryRecoderWithAI?(Object(d["openBlock"])(),Object(d["createBlock"])(I["a"],{key:0,value:Se.value.SentryRecoderAIYuzhi,"onUpdate:value":u[1]||(u[1]=e=>Se.value.SentryRecoderAIYuzhi=e),name:"SentryRecoderAIYuzhi",dv:"0",type:"int",title:"AI准确度要求",label:"通常不需要调整，当有较多误判时，可以尝试调整。准确度要求越高，误报率越低，但可能漏判，默认即可，如果出现较多误判可以尝试调大",flabel:"准确度（0-5）"},null,8,["value"])):Object(d["createCommentVNode"])("",!0),Se.value.SentryRecoderWithAI?(Object(d["openBlock"])(),Object(d["createBlock"])(I["a"],{key:1,value:Se.value.SentryRecoderAIRecodYuzhi,"onUpdate:value":u[2]||(u[2]=e=>Se.value.SentryRecoderAIRecodYuzhi=e),name:"SentryRecoderAIRecodYuzhi",dv:"10",type:"int",title:"AI侦测阈值",label:"通常不需要调整，当有较多误判时，可以尝试调整，AI识别后会计算侦测值，达到阈值后才触发录制，阈值设置可以参考录制后视频封面上显示的数值",flabel:"AI侦测阈值（0-1000）"},null,8,["value"])):Object(d["createCommentVNode"])("",!0),Object(d["createVNode"])(Oe,{show:ae.value,"onUpdate:show":u[5]||(u[5]=e=>ae.value=e),round:""},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(Q,{type:"digit",max:1e3,modelValue:Se.value.SentryRecoderYuZhi,"onUpdate:modelValue":u[3]||(u[3]=e=>Se.value.SentryRecoderYuZhi=e),label:"阈值",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:u[4]||(u[4]=e=>be("SentryRecoderYuZhi",Se.value.SentryRecoderYuZhi,100))},null,8,["modelValue"])]),_:1},8,["show"]),Object(d["createVNode"])(U,{center:"",label:"增强暗光下封面的亮度，超暗光环境下可能会出现条纹","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 封面亮度校正 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,{modelValue:Se.value.SentryRecoderWithFenMian,"onUpdate:modelValue":u[6]||(u[6]=e=>Se.value.SentryRecoderWithFenMian=e),onChange:u[7]||(u[7]=e=>ue("SentryRecoderWithFenMian",Se.value.SentryRecoderWithFenMian))},null,8,["modelValue"])]),_:1})]),_:1}),Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(U,{center:"",title:"同步使用记录仪镜头录制",label:"开启后除了录制360镜头外，还会调用记录仪镜头进行录制，不建议和车内镜头录制同时开启，容易录制失败"},{"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,{modelValue:Se.value.sentryWithDVR,"onUpdate:modelValue":u[8]||(u[8]=e=>Se.value.sentryWithDVR=e),onChange:u[9]||(u[9]=e=>{ye(),ue("sentryWithDVR",Se.value.sentryWithDVR)})},null,8,["modelValue"])]),_:1}),Object(d["createVNode"])(U,{center:"",title:"同步使用车内镜头录制",label:"开启后除了录制360镜头外，还会调用车内镜头进行录制，不建议和上面记录仪镜头录制同时开启，容易录制失败"},{"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,{modelValue:Se.value.sentryWithInCar,"onUpdate:modelValue":u[10]||(u[10]=e=>Se.value.sentryWithInCar=e),onChange:u[11]||(u[11]=e=>{ye(),ue("sentryWithInCar",Se.value.sentryWithInCar)})},null,8,["modelValue"])]),_:1})]),_:1}),Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(U,{center:"",label:"事件持续多少秒才开始录制，通过设置此来过滤如灯光轻微闪烁所造成的误触发","is-link":"",onClick:u[12]||(u[12]=e=>ce.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 触发时长 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(0==Se.value.SentryRecoderTimeYuZhi?"单帧触发":Se.value.SentryRecoderTimeYuZhi+"秒")+" ",1),Object(d["createVNode"])(_e,{name:"arrow"})]),_:1}),Object(d["createVNode"])(Oe,{show:ce.value,"onUpdate:show":u[15]||(u[15]=e=>ce.value=e),round:""},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(Q,{type:"digit",max:1e3,modelValue:Se.value.SentryRecoderTimeYuZhi,"onUpdate:modelValue":u[13]||(u[13]=e=>Se.value.SentryRecoderTimeYuZhi=e),label:"触发时长，设置0则为单帧实时触发",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:u[14]||(u[14]=e=>be("SentryRecoderTimeYuZhi",Se.value.SentryRecoderTimeYuZhi,2))},null,8,["modelValue"])]),_:1},8,["show"]),Object(d["createVNode"])(U,{center:"",label:"一般默认可，建议为2次/秒，侦测频率越高，CPU开销越大；频率过低，则有可能错过事件","is-link":"",onClick:u[16]||(u[16]=e=>ie.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 侦测频率 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(Se.value.SentryRecoderFre)+"次/秒 ",1),Object(d["createVNode"])(_e,{name:"arrow"})]),_:1}),Object(d["createVNode"])(Oe,{show:ie.value,"onUpdate:show":u[18]||(u[18]=e=>ie.value=e),round:"",position:"bottom"},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(We,{columns:le,onCancel:u[17]||(u[17]=e=>ie.value=!1),onConfirm:de})]),_:1},8,["show"])]),_:1}),Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(U,{center:"",label:"开启后仅在设置的时间段内生效","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 设置生效时间段 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,{modelValue:Se.value.SentryRecoderWithTime,"onUpdate:modelValue":u[19]||(u[19]=e=>Se.value.SentryRecoderWithTime=e),onChange:u[20]||(u[20]=e=>ue("SentryRecoderWithTime",Se.value.SentryRecoderWithTime))},null,8,["modelValue"])]),_:1}),Se.value.SentryRecoderWithTime?(Object(d["openBlock"])(),Object(d["createElementBlock"])(d["Fragment"],{key:0},[(Object(d["openBlock"])(!0),Object(d["createElementBlock"])(d["Fragment"],null,Object(d["renderList"])(Se.value.SentryRecoderTimes,(e,t)=>(Object(d["openBlock"])(),Object(d["createBlock"])(U,{key:t,center:"","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(e.start[0]+":"+e.start[1]+"到"+e.end[0]+":"+e.end[1]),1)]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,{modelValue:e.enable,"onUpdate:modelValue":t=>e.enable=t,onChange:Ve},null,8,["modelValue","onUpdate:modelValue"]),Object(d["createVNode"])(j,{icon:"delete",type:"primary",round:"",size:"small",style:{"margin-left":"20px"},onClick:t=>Ne(e)},null,8,["onClick"])]),_:2},1024))),128)),Object(d["createVNode"])(U,{center:"",onClick:xe,"is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 添加时间段 ")]),_:1})],64)):Object(d["createCommentVNode"])("",!0),Object(d["createVNode"])(Oe,{show:Re.value,"onUpdate:show":u[24]||(u[24]=e=>Re.value=e),round:"",position:"bottom"},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(Ae,{modelValue:pe.value.start,"onUpdate:modelValue":u[21]||(u[21]=e=>pe.value.start=e),title:"选择开始时间",onCancel:u[22]||(u[22]=e=>Re.value=!1),onConfirm:u[23]||(u[23]=e=>{Re.value=!1,Ce.value=!0})},{confirm:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 下一步 ")]),_:1},8,["modelValue"])]),_:1},8,["show"]),Object(d["createVNode"])(Oe,{show:Ce.value,"onUpdate:show":u[27]||(u[27]=e=>Ce.value=e),round:"",position:"bottom"},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(Ae,{modelValue:pe.value.end,"onUpdate:modelValue":u[25]||(u[25]=e=>pe.value.end=e),title:"选择结束时间",onCancel:u[26]||(u[26]=e=>{Ce.value=!1,Re.value=!0}),onConfirm:ve},{cancel:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 上一步 ")]),_:1},8,["modelValue"])]),_:1},8,["show"])]),_:1}),Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(U,{center:"",label:"开启后使用传统算法补充决策是否录制，如果觉得AI侦测效果不好或者漏录制，可以打开该选项，可能会增加误报，可以同步设置个较大的传统侦测阈值","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 传统算法补充侦测 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,{modelValue:Se.value.SentryRecoderWithOld,"onUpdate:modelValue":u[28]||(u[28]=e=>Se.value.SentryRecoderWithOld=e),onChange:u[29]||(u[29]=e=>ue("SentryRecoderWithOld",Se.value.SentryRecoderWithOld))},null,8,["modelValue"])]),_:1}),Se.value.SentryRecoderWithOld?(Object(d["openBlock"])(),Object(d["createBlock"])(U,{key:0,center:"",label:"该选项对应传统算法的图像侦测阈值，数值范围1-1000，值越小越灵敏，值过低可能误报，过高可能错过事件","is-link":"",onClick:u[30]||(u[30]=e=>ae.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 传统侦测阈值 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(Se.value.SentryRecoderYuZhi)+" ",1),Object(d["createVNode"])(_e,{name:"arrow"})]),_:1})):Object(d["createCommentVNode"])("",!0)]),_:1}),Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(U,{center:"",label:"请先关闭停止当前所有录制任务后再进行调试，结束后，请及时关闭调试","is-link":"",onClick:se},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 开始侦测调试 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(_e,{name:"arrow"})]),_:1}),Object(d["createVNode"])(U,{center:"",label:"结束后，请及时关闭调试","is-link":"",onClick:je},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 结束侦测调试 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(_e,{name:"arrow"})]),_:1})]),_:1}),Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(U,{center:"",label:"麦克风可用时，录制音频，需要管理器打开熄火后保持活跃选项，否则不生效","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 录制音频 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,{modelValue:Se.value.SentryRecoderTryAudio,"onUpdate:modelValue":u[31]||(u[31]=e=>Se.value.SentryRecoderTryAudio=e),onClick:he},null,8,["modelValue"])]),_:1}),Se.value.SentryRecoderTryAudio?(Object(d["openBlock"])(),Object(d["createElementBlock"])(d["Fragment"],{key:0},[Object(d["createVNode"])(U,{center:"",label:"根据音量变化进行侦测结果判断","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 音频协同侦测 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,{modelValue:Se.value.SentryRecoderWithAudio,"onUpdate:modelValue":u[32]||(u[32]=e=>Se.value.SentryRecoderWithAudio=e),onClick:u[33]||(u[33]=e=>ue("SentryRecoderWithAudio",Se.value.SentryRecoderWithAudio))},null,8,["modelValue"])]),_:1}),Se.value.SentryRecoderWithAudio?(Object(d["openBlock"])(),Object(d["createElementBlock"])(d["Fragment"],{key:0},[Object(d["createVNode"])(U,{center:"",label:"数值范围1-100，值越小越灵敏，值过低可能误报，过高可能错过事件","is-link":"",onClick:u[34]||(u[34]=e=>ge.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 音量侦测报警阈值 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(Se.value.SentryRecoderAudioYuZhi)+" ",1),Object(d["createVNode"])(_e,{name:"arrow"})]),_:1}),Object(d["createVNode"])(Oe,{show:ge.value,"onUpdate:show":u[37]||(u[37]=e=>ge.value=e),round:""},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(Q,{type:"digit",max:1e3,modelValue:Se.value.SentryRecoderAudioYuZhi,"onUpdate:modelValue":u[35]||(u[35]=e=>Se.value.SentryRecoderAudioYuZhi=e),label:"报警阈值",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:u[36]||(u[36]=e=>be("SentryRecoderAudioYuZhi",Se.value.SentryRecoderAudioYuZhi,30))},null,8,["modelValue"])]),_:1},8,["show"]),Object(d["createVNode"])(U,{center:"",label:"同一时间范围内，音频和视频同时变动才触发录制还是任一种变动就触发录制","is-link":"",onClick:u[38]||(u[38]=e=>we.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 音频协同侦测模式 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(Z(te,Se.value.SentryRecoderAudioMode))+" ",1),Object(d["createVNode"])(_e,{name:"arrow"})]),_:1}),Object(d["createVNode"])(Oe,{show:we.value,"onUpdate:show":u[40]||(u[40]=e=>we.value=e),round:"",position:"bottom"},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(We,{columns:te,onCancel:u[39]||(u[39]=e=>we.value=!1),onConfirm:ne})]),_:1},8,["show"]),1==Se.value.SentryRecoderAudioMode?(Object(d["openBlock"])(),Object(d["createBlock"])(U,{key:0,center:"",label:"上面选项的时间范围定义为多少秒","is-link":"",onClick:u[41]||(u[41]=e=>fe.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 时间范围 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(Se.value.SentryRecoderAudioMode1Time)+"秒 ",1),Object(d["createVNode"])(_e,{name:"arrow"})]),_:1})):Object(d["createCommentVNode"])("",!0),Object(d["createVNode"])(Oe,{show:fe.value,"onUpdate:show":u[44]||(u[44]=e=>fe.value=e),round:""},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(Q,{type:"digit",max:1e3,modelValue:Se.value.SentryRecoderAudioMode1Time,"onUpdate:modelValue":u[42]||(u[42]=e=>Se.value.SentryRecoderAudioMode1Time=e),label:"时间值（秒）",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:u[43]||(u[43]=e=>be("SentryRecoderAudioMode1Time",Se.value.SentryRecoderAudioMode1Time,2))},null,8,["modelValue"])]),_:1},8,["show"])],64)):Object(d["createCommentVNode"])("",!0)],64)):Object(d["createCommentVNode"])("",!0)]),_:1}),Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(U,{center:"",label:"从侦测到事件时的前多少秒提前录制，提前录制可以帮助你更好的了解事件情况，但是会增加功耗","is-link":"",onClick:u[45]||(u[45]=e=>p.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 提前录制时长 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(0==Se.value.SentryYLRecoderTime?"关闭":Se.value.SentryYLRecoderTime+"秒")+" ",1),Object(d["createVNode"])(_e,{name:"arrow"})]),_:1}),Object(d["createVNode"])(Oe,{show:p.value,"onUpdate:show":u[47]||(u[47]=e=>p.value=e),round:"",position:"bottom"},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(We,{columns:o,onCancel:u[46]||(u[46]=e=>p.value=!1),onConfirm:g})]),_:1},8,["show"]),Object(d["createVNode"])(U,{center:"",label:"录制时，当侦测到事件结束后的继续录制的时长","is-link":"",onClick:u[48]||(u[48]=e=>S.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 延后录制时长 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(0==Se.value.SentryRecoderTime?"立即停止":Se.value.SentryRecoderTime+"秒")+" ",1),Object(d["createVNode"])(_e,{name:"arrow"})]),_:1}),Object(d["createVNode"])(Oe,{show:S.value,"onUpdate:show":u[50]||(u[50]=e=>S.value=e),round:"",position:"bottom"},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(We,{columns:t,onCancel:u[49]||(u[49]=e=>S.value=!1),onConfirm:w})]),_:1},8,["show"])]),_:1}),Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(U,{center:"",label:"分辨率越低，CPU、内存和存储开销越小，会降低视频画质","is-link":"",onClick:u[51]||(u[51]=e=>D.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 录制分辨率 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(Z(f,Se.value.SentryRecoderResolution))+" ",1),Object(d["createVNode"])(_e,{name:"arrow"})]),_:1}),Object(d["createVNode"])(Oe,{show:D.value,"onUpdate:show":u[53]||(u[53]=e=>D.value=e),round:"",position:"bottom"},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(We,{columns:f,onCancel:u[52]||(u[52]=e=>D.value=!1),onConfirm:P})]),_:1},8,["show"]),Object(d["createVNode"])(U,{center:"",label:"帧率越低，CPU、内存和存储开销越小，会降低视频流畅度","is-link":"",onClick:u[54]||(u[54]=e=>$.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 录制帧率 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(Se.value.SentryRecoderFPS)+"帧 ",1),Object(d["createVNode"])(_e,{name:"arrow"})]),_:1}),Object(d["createVNode"])(Oe,{show:$.value,"onUpdate:show":u[56]||(u[56]=e=>$.value=e),round:"",position:"bottom"},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(We,{columns:K,onCancel:u[55]||(u[55]=e=>$.value=!1),onConfirm:q})]),_:1},8,["show"]),Object(d["createVNode"])(U,{center:"",label:"码率越低，CPU、内存和存储开销越小，会降低视频画质","is-link":"",onClick:u[57]||(u[57]=e=>oe.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 录制码率 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(Z(ee,Se.value.SentryRecoderBitrate))+" ",1),Object(d["createVNode"])(_e,{name:"arrow"})]),_:1}),Object(d["createVNode"])(Oe,{show:oe.value,"onUpdate:show":u[59]||(u[59]=e=>oe.value=e),round:"",position:"bottom"},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(We,{columns:ee,onCancel:u[58]||(u[58]=e=>oe.value=!1),onConfirm:re})]),_:1},8,["show"])]),_:1}),Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(U,{center:"",label:"视频左上角显示录制时间","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 时间水印 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,{modelValue:Se.value.SentryRecoderTimeWaterMark,"onUpdate:modelValue":u[60]||(u[60]=e=>Se.value.SentryRecoderTimeWaterMark=e),onClick:u[61]||(u[61]=e=>ue("SentryRecoderTimeWaterMark",Se.value.SentryRecoderTimeWaterMark))},null,8,["modelValue"])]),_:1}),Object(d["createVNode"])(U,{center:"",label:"视频显示摄像头前后左右图标，方便区分摄像头位置","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 镜头位置水印 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,{modelValue:Se.value.SentryRecoderViewWaterMark,"onUpdate:modelValue":u[62]||(u[62]=e=>Se.value.SentryRecoderViewWaterMark=e),onClick:u[63]||(u[63]=e=>ue("SentryRecoderViewWaterMark",Se.value.SentryRecoderViewWaterMark))},null,8,["modelValue"])]),_:1}),Object(d["createVNode"])(U,{center:"",label:"视频显示车辆信息水印，如速度、油门、刹车、电量等","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 车辆信息水印 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,{modelValue:Se.value.SentryRecoderCarInfoWaterMark,"onUpdate:modelValue":u[64]||(u[64]=e=>Se.value.SentryRecoderCarInfoWaterMark=e),onClick:u[65]||(u[65]=e=>ue("SentryRecoderCarInfoWaterMark",Se.value.SentryRecoderCarInfoWaterMark))},null,8,["modelValue"])]),_:1}),Se.value.SentryRecoderCarInfoWaterMark?(Object(d["openBlock"])(!0),Object(d["createElementBlock"])(d["Fragment"],{key:0},Object(d["renderList"])(ke.value,e=>(Object(d["openBlock"])(),Object(d["createBlock"])(U,{key:"Sentry"+e.name,title:e.name},{"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(Ue,{name:e.name,modelValue:e.select,"onUpdate:modelValue":t=>e.select=t,onChange:Te},null,8,["name","modelValue","onUpdate:modelValue"])]),_:2},1032,["title"]))),128)):Object(d["createCommentVNode"])("",!0)]),_:1}),Object(d["createVNode"])(B,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(U,{center:"",label:"路径："+Se.value.SentryRecoderPathSD,onClick:u[66]||(u[66]=e=>Object(d["unref"])(M["b"])("如需修改，请在存储管理中修改路径")),"is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 内部存储路径 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(_e,{name:"arrow"})]),_:1},8,["label"]),Object(d["createVNode"])(Oe,{show:J.value,"onUpdate:show":u[68]||(u[68]=e=>J.value=e),round:""},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(Q,{name:"slider",modelValue:Se.value.SentryRecoderPathSD,"onUpdate:modelValue":u[67]||(u[67]=e=>Se.value.SentryRecoderPathSD=e),label:"存储路径",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:H},null,8,["modelValue"])]),_:1},8,["show"]),Object(d["createVNode"])(Oe,{show:z.value,"onUpdate:show":u[70]||(u[70]=e=>z.value=e),round:""},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(Q,{name:"slider",modelValue:Se.value.SentryRecoderPathTF,"onUpdate:modelValue":u[69]||(u[69]=e=>Se.value.SentryRecoderPathTF=e),label:"存储路径",style:{margin:"20px 0",padding:"20px","padding-right":"30px"},onChange:L},null,8,["modelValue"])]),_:1},8,["show"])]),_:1}),Object(d["createVNode"])(Fe,{show:E.value,"onUpdate:show":u[71]||(u[71]=e=>E.value=e),style:{width:"60%",padding:"0 20px"},title:"标题","show-cancel-button":"",onConfirm:s},{title:Object(d["withCtx"])(()=>[F,Object(d["createVNode"])(j,{style:{padding:"10px 10px","margin-right":"20px"},round:"",type:"primary",size:"small",onClick:O},{default:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 获取照片")]),_:1}),Object(d["createVNode"])(j,{style:{padding:"10px 10px","margin-right":"20px"},round:"",type:"primary",size:"small",onClick:h},{default:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])("#ff0000"==i.value?"橡皮":"画笔"),1)]),_:1}),Object(d["createVNode"])(j,{style:{padding:"10px 10px","margin-right":"20px"},round:"",type:"primary",size:"small",onClick:y},{default:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 清空")]),_:1})]),default:Object(d["withCtx"])(()=>[Object(d["createElementVNode"])("div",Y,[G.value&&""!==G.value?(Object(d["openBlock"])(),Object(d["createBlock"])(Be,{key:0,style:{position:"relative",left:"0",top:"0"},width:"100%",ref_key:"sentryBgP",ref:X,id:"sentryBg",src:G.value},null,8,["src"])):(Object(d["openBlock"])(),Object(d["createBlock"])(Me,{key:1,description:"暂时没有图像，请点击拍照获取档期车辆环境照片！"})),G.value&&""!==G.value?(Object(d["openBlock"])(),Object(d["createBlock"])(Ie,{key:2,style:{position:"absolute",left:"0",top:"0",padding:"0",opacity:"0.2",width:"100%",height:"100%"},ref:"signat","pen-color":i.value,"line-width":20,onSubmit:b,onClear:V},null,8,["pen-color"])):Object(d["createCommentVNode"])("",!0)])]),_:1},8,["show"])])}}};o("0a73");const P=D;t["default"]=P},e7e1:function(e,t,o){},f628:function(e,t,o){}}]);